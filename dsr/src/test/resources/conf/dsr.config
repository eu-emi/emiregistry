#################################
#####EMIR Server configuration###
#################################
#Scheme could either be http or https if running on a secure mode
registry.scheme=https
registry.hostname=localhost
registry.port=54321

#Type of the registry.
# If you would like to use this registry as GSR add this line
# to the configuration, otherwise you use only DSR:
# registry.type=global

#parent dsr configuration
registry.parent.url=http://localhost:9000

#Filters - comma separated fully qualified class names  
#registry.filters.request=pkg.Class1,pkg.Class2
#
#In order to restrict the service records while doing registrations or updates, 
#assign the above key with the following string (remove the pkg.Class1,pkg.Class2)  
#
#eu.emi.dsr.infrastructure.InputFilter
#
#registry.filters.response=pkg.Class1,pkg.Class2
#
#In order to restrict amount of service records being sent from the registry,
#assign the above key with the following string  (pkg.Class1,pkg.Class2)
#
#eu.emi.dsr.infrastructure.OutputFilter

#Maximum assignable lifetime for the service endpoint records
#default: 365, defined in days, minimum value: 1
registry.expiry.maximum=1

#default value, if the incoming registration is missing the expiration
registry.expiry.default=1

############################
####MongoDB configuration###
############################
mongodb.hostname=localhost
mongodb.port=27017
mongodb.dbname=emiregistry
mongodb.colname=services

# Database name should be set by-default to 'registry'
# mongodb.dbname=emiregistry

# Collection name should be set by-default to 'service' 
# mongodb.colname=services

# MongoDB authentication information
#mongodb.username=user
#mongodb.password=pwd

############################
#### Log4J configuration ###
############################
logger.conf.path=src/main/resources/log4j.properties


############################
#####   Security  ##########
############################

###### Authentication ######
registry.ssl.keystore=src/test/resources/certs/demo-server.p12
registry.ssl.keytype=pkcs12
registry.ssl.keypass=emi

registry.ssl.truststore=src/test/resources/certs/demo-server.jks
registry.ssl.truststorepass=emi
registry.ssl.truststoretype=jks

registry.ssl.clientauthentication=true

###### Authorisation #######
#There are two alternatives to authorize the EMIR clients
# I.  Access Control List (ACL)
# II. XACML Policies
#
#Note: Use anyone of the above mechanism by commenting out the respective properties - default mechanism: ACL

# I. Access Control List (ACL)
registry.acl.file=src/test/resources/conf/emir.acl

# II. XACML Policies
#
# Authorisation attribute source configuration
# 
# EMIR maps the identity of the Grid user (e.g. 
# her certificate or distinguished name) to attributes
# (like role).
#
# This property is a space separated list of attribute 
# source names, which are then configured in detail below.
# The named attribute sources are queried in the given order.
#
#registry.security.attributes.order=  FILE

#
# configuration of the 'FILE' attribute source
#
#registry.security.attributes.FILE.class=eu.emi.dsr.aip.FileAttributeSource
# path to the mapfile
#registry.security.attributes.FILE.file=src/test/resources/conf/users/testUdb-strict.xml
# how to match entries: strict or regexp
#registry.security.attributes.FILE.matching=strict

# Enable/disable authorisation. Server should running on https with
# valid client and server certificates, see 'Authentication' 
# properties above 
#registry.security.accesscontrol=true

# Name of the xml file containing the User attributes
#registry.security.accesscontrol.config=true
#
# the XACML config file which contains the list of security policy files
#
#registry.security.accesscontrol.pdp.config=src/test/resources/conf/xacml2.config

#
# the XACML PDP implementation class
#
#registry.security.accesscontrol.pdp=eu.unicore.uas.pdp.local.LocalHerasafPDP



############################
######### Jetty  ###########
############################
jetty.maxIdleTime=30000
jetty.maxIdleTime=10000
jetty.maxThreads=255
jetty.lowThreads=50
